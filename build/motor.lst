ARM GAS  C:\Users\benny\AppData\Local\Temp\cch4BBge.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"motor.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/motor.c"
  20              		.global	__aeabi_i2d
  21              		.global	__aeabi_dmul
  22              		.global	__aeabi_dadd
  23              		.global	__aeabi_d2uiz
  24              		.section	.text.motorSetAngle,"ax",%progbits
  25              		.align	1
  26              		.global	motorSetAngle
  27              		.syntax unified
  28              		.thumb
  29              		.thumb_func
  31              	motorSetAngle:
  32              	.LVL0:
  33              	.LFB141:
   1:Core/Src/motor.c **** #include "pca9685.h"
   2:Core/Src/motor.c **** #include "motor.h"
   3:Core/Src/motor.c **** 
   4:Core/Src/motor.c **** 
   5:Core/Src/motor.c **** 
   6:Core/Src/motor.c **** 
   7:Core/Src/motor.c **** void motorSetAngle(motor_t *motor, uint16_t angleDeg) {
  34              		.loc 1 7 55 view -0
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 0
  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38              		.loc 1 7 55 is_stmt 0 view .LVU1
  39 0000 10B5     		push	{r4, lr}
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 8
  42              		.cfi_offset 4, -8
  43              		.cfi_offset 14, -4
  44 0002 0446     		mov	r4, r0
  45 0004 0846     		mov	r0, r1
  46              	.LVL1:
   8:Core/Src/motor.c ****     // Clip the angle between 0 and 180
   9:Core/Src/motor.c ****     if (angleDeg < 0) {
  47              		.loc 1 9 5 is_stmt 1 view .LVU2
  10:Core/Src/motor.c ****         angleDeg = 0;
  11:Core/Src/motor.c ****     } else if (angleDeg > 180) {
ARM GAS  C:\Users\benny\AppData\Local\Temp\cch4BBge.s 			page 2


  48              		.loc 1 11 12 view .LVU3
  49              		.loc 1 11 15 is_stmt 0 view .LVU4
  50 0006 B429     		cmp	r1, #180
  51 0008 00D9     		bls	.L2
  12:Core/Src/motor.c ****         angleDeg = 180;
  52              		.loc 1 12 18 view .LVU5
  53 000a B420     		movs	r0, #180
  54              	.L2:
  55              	.LVL2:
  13:Core/Src/motor.c ****     }
  14:Core/Src/motor.c ****     //Off Time Calculation
  15:Core/Src/motor.c ****     uint16_t offTime = (((2.0 / 180.0 * angleDeg) + 0.5) * (4096.0 / 20));
  56              		.loc 1 15 5 is_stmt 1 view .LVU6
  57              		.loc 1 15 39 is_stmt 0 view .LVU7
  58 000c FFF7FEFF 		bl	__aeabi_i2d
  59              	.LVL3:
  60              		.loc 1 15 39 view .LVU8
  61 0010 0EA3     		adr	r3, .L5+12
  62 0012 D3E90023 		ldrd	r2, [r3]
  63 0016 FFF7FEFF 		bl	__aeabi_dmul
  64              	.LVL4:
  65              		.loc 1 15 51 view .LVU9
  66 001a 0022     		movs	r2, #0
  67 001c 0A4B     		ldr	r3, .L5+8
  68 001e FFF7FEFF 		bl	__aeabi_dadd
  69              	.LVL5:
  70              		.loc 1 15 58 view .LVU10
  71 0022 07A3     		adr	r3, .L5
  72 0024 D3E90023 		ldrd	r2, [r3]
  73 0028 FFF7FEFF 		bl	__aeabi_dmul
  74              	.LVL6:
  75              		.loc 1 15 14 view .LVU11
  76 002c FFF7FEFF 		bl	__aeabi_d2uiz
  77              	.LVL7:
  16:Core/Src/motor.c ****     setPWM(motor->motorPin, 0, offTime);
  78              		.loc 1 16 5 is_stmt 1 view .LVU12
  79 0030 82B2     		uxth	r2, r0
  80 0032 0021     		movs	r1, #0
  81 0034 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
  82              	.LVL8:
  83              		.loc 1 16 5 is_stmt 0 view .LVU13
  84 0036 FFF7FEFF 		bl	setPWM
  85              	.LVL9:
  17:Core/Src/motor.c **** }
  86              		.loc 1 17 1 view .LVU14
  87 003a 10BD     		pop	{r4, pc}
  88              	.LVL10:
  89              	.L6:
  90              		.loc 1 17 1 view .LVU15
  91 003c AFF30080 		.align	3
  92              	.L5:
  93 0040 9A999999 		.word	-1717986918
  94 0044 99996940 		.word	1080662425
  95 0048 0000E03F 		.word	1071644672
  96 004c 176CC116 		.word	381774871
  97 0050 6CC1863F 		.word	1065795948
  98              		.cfi_endproc
ARM GAS  C:\Users\benny\AppData\Local\Temp\cch4BBge.s 			page 3


  99              	.LFE141:
 101              		.text
 102              	.Letext0:
 103              		.file 2 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/../
 104              		.file 3 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/../
 105              		.file 4 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 106              		.file 5 "Core/Inc/motor.h"
 107              		.file 6 "Core/Inc/pca9685.h"
ARM GAS  C:\Users\benny\AppData\Local\Temp\cch4BBge.s 			page 4


DEFINED SYMBOLS
                            *ABS*:00000000 motor.c
C:\Users\benny\AppData\Local\Temp\cch4BBge.s:25     .text.motorSetAngle:00000000 $t
C:\Users\benny\AppData\Local\Temp\cch4BBge.s:31     .text.motorSetAngle:00000000 motorSetAngle
C:\Users\benny\AppData\Local\Temp\cch4BBge.s:93     .text.motorSetAngle:00000040 $d

UNDEFINED SYMBOLS
__aeabi_i2d
__aeabi_dmul
__aeabi_dadd
__aeabi_d2uiz
setPWM
