ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"pca9685.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/pca9685.c"
  20              		.section	.text.PCA9685_Write,"ax",%progbits
  21              		.align	1
  22              		.global	PCA9685_Write
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	PCA9685_Write:
  28              	.LVL0:
  29              	.LFB143:
   1:Core/Src/pca9685.c **** 
   2:Core/Src/pca9685.c **** #include "pca9685.h"
   3:Core/Src/pca9685.c **** #include "stm32f7xx_hal.h"
   4:Core/Src/pca9685.c **** #include "stm32f7xx_hal_def.h"
   5:Core/Src/pca9685.c **** #include "stm32f7xx_hal_i2c.h"
   6:Core/Src/pca9685.c **** #include <math.h>
   7:Core/Src/pca9685.c **** #include <string.h>
   8:Core/Src/pca9685.c **** #include <sys/types.h>
   9:Core/Src/pca9685.c **** 
  10:Core/Src/pca9685.c **** 
  11:Core/Src/pca9685.c **** extern I2C_HandleTypeDef hi2c2;
  12:Core/Src/pca9685.c **** 
  13:Core/Src/pca9685.c **** 
  14:Core/Src/pca9685.c **** 
  15:Core/Src/pca9685.c **** bool PCA9685_Init(){
  16:Core/Src/pca9685.c ****    
  17:Core/Src/pca9685.c **** 
  18:Core/Src/pca9685.c ****     // Reset the PCA9685
  19:Core/Src/pca9685.c ****     uint8_t mode1 = MODE1_SLEEP; // Enter sleep mode to set prescaler
  20:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
  21:Core/Src/pca9685.c ****         return false;
  22:Core/Src/pca9685.c ****     }
  23:Core/Src/pca9685.c **** 
  24:Core/Src/pca9685.c ****     // Enable auto-increment for registers and restart
  25:Core/Src/pca9685.c ****     mode1 = MODE1_AI | MODE1_RESTART;
  26:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
  27:Core/Src/pca9685.c ****         return false;
  28:Core/Src/pca9685.c ****     }
  29:Core/Src/pca9685.c **** 
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 2


  30:Core/Src/pca9685.c ****     // Set default MODE2
  31:Core/Src/pca9685.c ****     uint8_t mode2 = MODE2_OUTDRV;
  32:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE2, &mode2, 1) != HAL_OK) {
  33:Core/Src/pca9685.c ****         return false;
  34:Core/Src/pca9685.c ****     }
  35:Core/Src/pca9685.c **** 
  36:Core/Src/pca9685.c ****     return true;
  37:Core/Src/pca9685.c **** }
  38:Core/Src/pca9685.c **** 
  39:Core/Src/pca9685.c **** 
  40:Core/Src/pca9685.c **** 
  41:Core/Src/pca9685.c **** bool PCA9685_SetPWMFrequency(uint16_t frequency) {
  42:Core/Src/pca9685.c ****     if (frequency < 24 || frequency > 1526) {
  43:Core/Src/pca9685.c ****         return false; // Invalid frequency 
  44:Core/Src/pca9685.c ****     }
  45:Core/Src/pca9685.c **** 
  46:Core/Src/pca9685.c ****     // Calculate prescaler value
  47:Core/Src/pca9685.c ****     float prescale_val = ((float)FREQUENCY_OSCILLATOR / (frequency * 4096.0)) - 1;
  48:Core/Src/pca9685.c ****     uint8_t prescale = (uint8_t)(floor(prescale_val + 0.5));
  49:Core/Src/pca9685.c **** 
  50:Core/Src/pca9685.c ****     // Set to sleep mode to update prescaler
  51:Core/Src/pca9685.c ****     uint8_t mode1;
  52:Core/Src/pca9685.c ****     if (PCA9685_Read(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
  53:Core/Src/pca9685.c ****         return false;
  54:Core/Src/pca9685.c ****     }
  55:Core/Src/pca9685.c **** 
  56:Core/Src/pca9685.c ****     uint8_t old_mode = mode1;
  57:Core/Src/pca9685.c ****     mode1 = (old_mode & ~MODE1_RESTART) | MODE1_SLEEP;
  58:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
  59:Core/Src/pca9685.c ****         return false;
  60:Core/Src/pca9685.c ****     }
  61:Core/Src/pca9685.c **** 
  62:Core/Src/pca9685.c ****     // Write prescaler
  63:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_PRESCALE, &prescale, 1) != HAL_OK) {
  64:Core/Src/pca9685.c ****         return false;
  65:Core/Src/pca9685.c ****     }
  66:Core/Src/pca9685.c **** 
  67:Core/Src/pca9685.c ****     // Restore mode and enable restart
  68:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &old_mode, 1) != HAL_OK) {
  69:Core/Src/pca9685.c ****         return false;
  70:Core/Src/pca9685.c ****     }
  71:Core/Src/pca9685.c ****     HAL_Delay(1); // Delay for oscillator stabilization
  72:Core/Src/pca9685.c ****     old_mode |= MODE1_RESTART;
  73:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &old_mode, 1) != HAL_OK) {
  74:Core/Src/pca9685.c ****         return false;
  75:Core/Src/pca9685.c ****     }
  76:Core/Src/pca9685.c **** 
  77:Core/Src/pca9685.c ****     return true;
  78:Core/Src/pca9685.c **** }
  79:Core/Src/pca9685.c **** 
  80:Core/Src/pca9685.c **** 
  81:Core/Src/pca9685.c **** HAL_StatusTypeDef PCA9685_Write(I2C_HandleTypeDef *hi2c, uint8_t device_address, uint8_t register_a
  30              		.loc 1 81 138 view -0
  31              		.cfi_startproc
  32              		@ args = 4, pretend = 0, frame = 0
  33              		@ frame_needed = 1, uses_anonymous_args = 0
  34              		.loc 1 81 138 is_stmt 0 view .LVU1
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 3


  35 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 4, -24
  39              		.cfi_offset 5, -20
  40              		.cfi_offset 6, -16
  41              		.cfi_offset 7, -12
  42              		.cfi_offset 8, -8
  43              		.cfi_offset 14, -4
  44 0004 82B0     		sub	sp, sp, #8
  45              	.LCFI1:
  46              		.cfi_def_cfa_offset 32
  47 0006 02AF     		add	r7, sp, #8
  48              	.LCFI2:
  49              		.cfi_def_cfa 7, 24
  50 0008 0446     		mov	r4, r0
  51 000a 0D46     		mov	r5, r1
  52 000c 1146     		mov	r1, r2
  53              	.LVL1:
  54              		.loc 1 81 138 view .LVU2
  55 000e 3A8B     		ldrh	r2, [r7, #24]
  56              	.LVL2:
  82:Core/Src/pca9685.c ****     uint8_t buffer[size + 1];
  57              		.loc 1 82 5 is_stmt 1 view .LVU3
  58              		.loc 1 82 25 is_stmt 0 view .LVU4
  59 0010 02F10108 		add	r8, r2, #1
  60              	.LVL3:
  61              		.loc 1 82 13 view .LVU5
  62 0014 02F10800 		add	r0, r2, #8
  63              	.LVL4:
  64              		.loc 1 82 13 view .LVU6
  65 0018 C008     		lsrs	r0, r0, #3
  66 001a 6E46     		mov	r6, sp
  67 001c A6EBC000 		sub	r0, r6, r0, lsl #3
  68 0020 8546     		mov	sp, r0
  69 0022 02AE     		add	r6, sp, #8
  70              	.LVL5:
  83:Core/Src/pca9685.c ****     buffer[0] = register_address;
  71              		.loc 1 83 5 is_stmt 1 view .LVU7
  72              		.loc 1 83 15 is_stmt 0 view .LVU8
  73 0024 8DF80810 		strb	r1, [sp, #8]
  84:Core/Src/pca9685.c ****     memcpy(&buffer[1], data, size);
  74              		.loc 1 84 5 is_stmt 1 view .LVU9
  75 0028 1946     		mov	r1, r3
  76 002a 0DF10900 		add	r0, sp, #9
  77 002e FFF7FEFF 		bl	memcpy
  78              	.LVL6:
  85:Core/Src/pca9685.c ****     return HAL_I2C_Master_Transmit(hi2c, (device_address << 1), buffer, size + 1, HAL_MAX_DELAY);
  79              		.loc 1 85 5 view .LVU10
  80              		.loc 1 85 12 is_stmt 0 view .LVU11
  81 0032 4FF0FF33 		mov	r3, #-1
  82 0036 0093     		str	r3, [sp]
  83 0038 1FFA88F3 		uxth	r3, r8
  84 003c 3246     		mov	r2, r6
  85 003e 6900     		lsls	r1, r5, #1
  86 0040 2046     		mov	r0, r4
  87 0042 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 4


  88              	.LVL7:
  86:Core/Src/pca9685.c **** }
  89              		.loc 1 86 1 view .LVU12
  90 0046 BD46     		mov	sp, r7
  91              	.LCFI3:
  92              		.cfi_def_cfa_register 13
  93              		@ sp needed
  94 0048 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
  95              		.loc 1 86 1 view .LVU13
  96              		.cfi_endproc
  97              	.LFE143:
  99              		.section	.text.PCA9685_Init,"ax",%progbits
 100              		.align	1
 101              		.global	PCA9685_Init
 102              		.syntax unified
 103              		.thumb
 104              		.thumb_func
 106              	PCA9685_Init:
 107              	.LFB141:
  15:Core/Src/pca9685.c ****    
 108              		.loc 1 15 20 is_stmt 1 view -0
 109              		.cfi_startproc
 110              		@ args = 0, pretend = 0, frame = 8
 111              		@ frame_needed = 0, uses_anonymous_args = 0
 112 0000 00B5     		push	{lr}
 113              	.LCFI4:
 114              		.cfi_def_cfa_offset 4
 115              		.cfi_offset 14, -4
 116 0002 85B0     		sub	sp, sp, #20
 117              	.LCFI5:
 118              		.cfi_def_cfa_offset 24
  19:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
 119              		.loc 1 19 5 view .LVU15
  19:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
 120              		.loc 1 19 13 is_stmt 0 view .LVU16
 121 0004 1023     		movs	r3, #16
 122 0006 8DF80F30 		strb	r3, [sp, #15]
  20:Core/Src/pca9685.c ****         return false;
 123              		.loc 1 20 5 is_stmt 1 view .LVU17
  20:Core/Src/pca9685.c ****         return false;
 124              		.loc 1 20 9 is_stmt 0 view .LVU18
 125 000a 0123     		movs	r3, #1
 126 000c 0093     		str	r3, [sp]
 127 000e 0DF10F03 		add	r3, sp, #15
 128 0012 0022     		movs	r2, #0
 129 0014 4021     		movs	r1, #64
 130 0016 1348     		ldr	r0, .L11
 131 0018 FFF7FEFF 		bl	PCA9685_Write
 132              	.LVL8:
  20:Core/Src/pca9685.c ****         return false;
 133              		.loc 1 20 8 view .LVU19
 134 001c 18B1     		cbz	r0, .L9
  21:Core/Src/pca9685.c ****     }
 135              		.loc 1 21 16 view .LVU20
 136 001e 0020     		movs	r0, #0
 137              	.L4:
  37:Core/Src/pca9685.c **** 
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 5


 138              		.loc 1 37 1 view .LVU21
 139 0020 05B0     		add	sp, sp, #20
 140              	.LCFI6:
 141              		.cfi_remember_state
 142              		.cfi_def_cfa_offset 4
 143              		@ sp needed
 144 0022 5DF804FB 		ldr	pc, [sp], #4
 145              	.L9:
 146              	.LCFI7:
 147              		.cfi_restore_state
  25:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
 148              		.loc 1 25 5 is_stmt 1 view .LVU22
  25:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
 149              		.loc 1 25 11 is_stmt 0 view .LVU23
 150 0026 A023     		movs	r3, #160
 151 0028 8DF80F30 		strb	r3, [sp, #15]
  26:Core/Src/pca9685.c ****         return false;
 152              		.loc 1 26 5 is_stmt 1 view .LVU24
  26:Core/Src/pca9685.c ****         return false;
 153              		.loc 1 26 9 is_stmt 0 view .LVU25
 154 002c 0123     		movs	r3, #1
 155 002e 0093     		str	r3, [sp]
 156 0030 0DF10F03 		add	r3, sp, #15
 157 0034 0022     		movs	r2, #0
 158 0036 4021     		movs	r1, #64
 159 0038 0A48     		ldr	r0, .L11
 160 003a FFF7FEFF 		bl	PCA9685_Write
 161              	.LVL9:
  26:Core/Src/pca9685.c ****         return false;
 162              		.loc 1 26 8 view .LVU26
 163 003e 08B1     		cbz	r0, .L10
  27:Core/Src/pca9685.c ****     }
 164              		.loc 1 27 16 view .LVU27
 165 0040 0020     		movs	r0, #0
 166 0042 EDE7     		b	.L4
 167              	.L10:
  31:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE2, &mode2, 1) != HAL_OK) {
 168              		.loc 1 31 5 is_stmt 1 view .LVU28
  31:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE2, &mode2, 1) != HAL_OK) {
 169              		.loc 1 31 13 is_stmt 0 view .LVU29
 170 0044 0423     		movs	r3, #4
 171 0046 8DF80E30 		strb	r3, [sp, #14]
  32:Core/Src/pca9685.c ****         return false;
 172              		.loc 1 32 5 is_stmt 1 view .LVU30
  32:Core/Src/pca9685.c ****         return false;
 173              		.loc 1 32 9 is_stmt 0 view .LVU31
 174 004a 0122     		movs	r2, #1
 175 004c 0092     		str	r2, [sp]
 176 004e 0DF10E03 		add	r3, sp, #14
 177 0052 4021     		movs	r1, #64
 178 0054 0348     		ldr	r0, .L11
 179 0056 FFF7FEFF 		bl	PCA9685_Write
 180              	.LVL10:
  32:Core/Src/pca9685.c ****         return false;
 181              		.loc 1 32 8 view .LVU32
 182 005a 08B9     		cbnz	r0, .L7
  36:Core/Src/pca9685.c **** }
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 6


 183              		.loc 1 36 12 view .LVU33
 184 005c 0120     		movs	r0, #1
 185 005e DFE7     		b	.L4
 186              	.L7:
  33:Core/Src/pca9685.c ****     }
 187              		.loc 1 33 16 view .LVU34
 188 0060 0020     		movs	r0, #0
 189 0062 DDE7     		b	.L4
 190              	.L12:
 191              		.align	2
 192              	.L11:
 193 0064 00000000 		.word	hi2c2
 194              		.cfi_endproc
 195              	.LFE141:
 197              		.section	.text.PCA9685_Read,"ax",%progbits
 198              		.align	1
 199              		.global	PCA9685_Read
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 204              	PCA9685_Read:
 205              	.LVL11:
 206              	.LFB144:
  87:Core/Src/pca9685.c **** 
  88:Core/Src/pca9685.c **** 
  89:Core/Src/pca9685.c **** 
  90:Core/Src/pca9685.c **** 
  91:Core/Src/pca9685.c **** HAL_StatusTypeDef PCA9685_Read(I2C_HandleTypeDef *hi2c, uint8_t device_address, uint8_t register_ad
 207              		.loc 1 91 137 is_stmt 1 view -0
 208              		.cfi_startproc
 209              		@ args = 4, pretend = 0, frame = 8
 210              		@ frame_needed = 0, uses_anonymous_args = 0
 211              		.loc 1 91 137 is_stmt 0 view .LVU36
 212 0000 70B5     		push	{r4, r5, r6, lr}
 213              	.LCFI8:
 214              		.cfi_def_cfa_offset 16
 215              		.cfi_offset 4, -16
 216              		.cfi_offset 5, -12
 217              		.cfi_offset 6, -8
 218              		.cfi_offset 14, -4
 219 0002 84B0     		sub	sp, sp, #16
 220              	.LCFI9:
 221              		.cfi_def_cfa_offset 32
 222 0004 0646     		mov	r6, r0
 223 0006 1D46     		mov	r5, r3
 224 0008 8DF80F20 		strb	r2, [sp, #15]
  92:Core/Src/pca9685.c ****     if (HAL_I2C_Master_Transmit(hi2c, (device_address << 1), &register_address, 1, HAL_MAX_DELAY) !
 225              		.loc 1 92 5 is_stmt 1 view .LVU37
 226              		.loc 1 92 9 is_stmt 0 view .LVU38
 227 000c 4C00     		lsls	r4, r1, #1
 228 000e 4FF0FF33 		mov	r3, #-1
 229              	.LVL12:
 230              		.loc 1 92 9 view .LVU39
 231 0012 0093     		str	r3, [sp]
 232 0014 0123     		movs	r3, #1
 233 0016 0DF10F02 		add	r2, sp, #15
 234              	.LVL13:
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 7


 235              		.loc 1 92 9 view .LVU40
 236 001a 2146     		mov	r1, r4
 237              	.LVL14:
 238              		.loc 1 92 9 view .LVU41
 239 001c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 240              	.LVL15:
 241              		.loc 1 92 8 view .LVU42
 242 0020 10B1     		cbz	r0, .L17
  93:Core/Src/pca9685.c ****         return HAL_ERROR;
 243              		.loc 1 93 16 view .LVU43
 244 0022 0120     		movs	r0, #1
 245              	.L14:
  94:Core/Src/pca9685.c ****     }
  95:Core/Src/pca9685.c ****     return HAL_I2C_Master_Receive(hi2c, (device_address << 1), data, size, HAL_MAX_DELAY);
  96:Core/Src/pca9685.c **** }
 246              		.loc 1 96 1 view .LVU44
 247 0024 04B0     		add	sp, sp, #16
 248              	.LCFI10:
 249              		.cfi_remember_state
 250              		.cfi_def_cfa_offset 16
 251              		@ sp needed
 252 0026 70BD     		pop	{r4, r5, r6, pc}
 253              	.LVL16:
 254              	.L17:
 255              	.LCFI11:
 256              		.cfi_restore_state
  95:Core/Src/pca9685.c **** }
 257              		.loc 1 95 5 is_stmt 1 view .LVU45
  95:Core/Src/pca9685.c **** }
 258              		.loc 1 95 12 is_stmt 0 view .LVU46
 259 0028 4FF0FF33 		mov	r3, #-1
 260 002c 0093     		str	r3, [sp]
 261 002e BDF82030 		ldrh	r3, [sp, #32]
 262 0032 2A46     		mov	r2, r5
 263 0034 2146     		mov	r1, r4
 264 0036 3046     		mov	r0, r6
 265 0038 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 266              	.LVL17:
 267 003c F2E7     		b	.L14
 268              		.cfi_endproc
 269              	.LFE144:
 271              		.global	__aeabi_i2d
 272              		.global	__aeabi_dmul
 273              		.global	__aeabi_ddiv
 274              		.global	__aeabi_dsub
 275              		.global	__aeabi_d2f
 276              		.global	__aeabi_f2d
 277              		.global	__aeabi_dadd
 278              		.global	__aeabi_d2uiz
 279              		.section	.text.PCA9685_SetPWMFrequency,"ax",%progbits
 280              		.align	1
 281              		.global	PCA9685_SetPWMFrequency
 282              		.syntax unified
 283              		.thumb
 284              		.thumb_func
 286              	PCA9685_SetPWMFrequency:
 287              	.LVL18:
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 8


 288              	.LFB142:
  41:Core/Src/pca9685.c ****     if (frequency < 24 || frequency > 1526) {
 289              		.loc 1 41 50 is_stmt 1 view -0
 290              		.cfi_startproc
 291              		@ args = 0, pretend = 0, frame = 8
 292              		@ frame_needed = 0, uses_anonymous_args = 0
  42:Core/Src/pca9685.c ****         return false; // Invalid frequency 
 293              		.loc 1 42 5 view .LVU48
  42:Core/Src/pca9685.c ****         return false; // Invalid frequency 
 294              		.loc 1 42 24 is_stmt 0 view .LVU49
 295 0000 A0F11803 		sub	r3, r0, #24
 296 0004 9BB2     		uxth	r3, r3
  42:Core/Src/pca9685.c ****         return false; // Invalid frequency 
 297              		.loc 1 42 8 view .LVU50
 298 0006 40F2DE52 		movw	r2, #1502
 299 000a 9342     		cmp	r3, r2
 300 000c 01D9     		bls	.L30
  43:Core/Src/pca9685.c ****     }
 301              		.loc 1 43 16 view .LVU51
 302 000e 0020     		movs	r0, #0
 303              	.LVL19:
  78:Core/Src/pca9685.c **** 
 304              		.loc 1 78 1 view .LVU52
 305 0010 7047     		bx	lr
 306              	.LVL20:
 307              	.L30:
  41:Core/Src/pca9685.c ****     if (frequency < 24 || frequency > 1526) {
 308              		.loc 1 41 50 view .LVU53
 309 0012 00B5     		push	{lr}
 310              	.LCFI12:
 311              		.cfi_def_cfa_offset 4
 312              		.cfi_offset 14, -4
 313 0014 85B0     		sub	sp, sp, #20
 314              	.LCFI13:
 315              		.cfi_def_cfa_offset 24
  47:Core/Src/pca9685.c ****     uint8_t prescale = (uint8_t)(floor(prescale_val + 0.5));
 316              		.loc 1 47 5 is_stmt 1 view .LVU54
  47:Core/Src/pca9685.c ****     uint8_t prescale = (uint8_t)(floor(prescale_val + 0.5));
 317              		.loc 1 47 68 is_stmt 0 view .LVU55
 318 0016 FFF7FEFF 		bl	__aeabi_i2d
 319              	.LVL21:
  47:Core/Src/pca9685.c ****     uint8_t prescale = (uint8_t)(floor(prescale_val + 0.5));
 320              		.loc 1 47 68 view .LVU56
 321 001a 0022     		movs	r2, #0
 322 001c 3C4B     		ldr	r3, .L35+8
 323 001e FFF7FEFF 		bl	__aeabi_dmul
 324              	.LVL22:
 325 0022 0246     		mov	r2, r0
 326 0024 0B46     		mov	r3, r1
  47:Core/Src/pca9685.c ****     uint8_t prescale = (uint8_t)(floor(prescale_val + 0.5));
 327              		.loc 1 47 55 view .LVU57
 328 0026 38A1     		adr	r1, .L35
 329 0028 D1E90001 		ldrd	r0, [r1]
 330 002c FFF7FEFF 		bl	__aeabi_ddiv
 331              	.LVL23:
  47:Core/Src/pca9685.c ****     uint8_t prescale = (uint8_t)(floor(prescale_val + 0.5));
 332              		.loc 1 47 79 view .LVU58
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 9


 333 0030 0022     		movs	r2, #0
 334 0032 384B     		ldr	r3, .L35+12
 335 0034 FFF7FEFF 		bl	__aeabi_dsub
 336              	.LVL24:
  47:Core/Src/pca9685.c ****     uint8_t prescale = (uint8_t)(floor(prescale_val + 0.5));
 337              		.loc 1 47 11 view .LVU59
 338 0038 FFF7FEFF 		bl	__aeabi_d2f
 339              	.LVL25:
  48:Core/Src/pca9685.c **** 
 340              		.loc 1 48 5 is_stmt 1 view .LVU60
  48:Core/Src/pca9685.c **** 
 341              		.loc 1 48 34 is_stmt 0 view .LVU61
 342 003c FFF7FEFF 		bl	__aeabi_f2d
 343              	.LVL26:
  48:Core/Src/pca9685.c **** 
 344              		.loc 1 48 34 view .LVU62
 345 0040 0022     		movs	r2, #0
 346 0042 354B     		ldr	r3, .L35+16
 347 0044 FFF7FEFF 		bl	__aeabi_dadd
 348              	.LVL27:
 349 0048 41EC100B 		vmov	d0, r0, r1
 350 004c FFF7FEFF 		bl	floor
 351              	.LVL28:
 352 0050 51EC100B 		vmov	r0, r1, d0
  48:Core/Src/pca9685.c **** 
 353              		.loc 1 48 24 view .LVU63
 354 0054 FFF7FEFF 		bl	__aeabi_d2uiz
 355              	.LVL29:
  48:Core/Src/pca9685.c **** 
 356              		.loc 1 48 13 view .LVU64
 357 0058 8DF80F00 		strb	r0, [sp, #15]
  51:Core/Src/pca9685.c ****     if (PCA9685_Read(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
 358              		.loc 1 51 5 is_stmt 1 view .LVU65
  52:Core/Src/pca9685.c ****         return false;
 359              		.loc 1 52 5 view .LVU66
  52:Core/Src/pca9685.c ****         return false;
 360              		.loc 1 52 9 is_stmt 0 view .LVU67
 361 005c 0123     		movs	r3, #1
 362 005e 0093     		str	r3, [sp]
 363 0060 0DF10E03 		add	r3, sp, #14
 364 0064 0022     		movs	r2, #0
 365 0066 4021     		movs	r1, #64
 366 0068 2C48     		ldr	r0, .L35+20
 367 006a FFF7FEFF 		bl	PCA9685_Read
 368              	.LVL30:
  52:Core/Src/pca9685.c ****         return false;
 369              		.loc 1 52 8 view .LVU68
 370 006e 18B1     		cbz	r0, .L31
  53:Core/Src/pca9685.c ****     }
 371              		.loc 1 53 16 view .LVU69
 372 0070 0020     		movs	r0, #0
 373              	.L19:
  78:Core/Src/pca9685.c **** 
 374              		.loc 1 78 1 view .LVU70
 375 0072 05B0     		add	sp, sp, #20
 376              	.LCFI14:
 377              		.cfi_remember_state
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 10


 378              		.cfi_def_cfa_offset 4
 379              		@ sp needed
 380 0074 5DF804FB 		ldr	pc, [sp], #4
 381              	.L31:
 382              	.LCFI15:
 383              		.cfi_restore_state
  56:Core/Src/pca9685.c ****     mode1 = (old_mode & ~MODE1_RESTART) | MODE1_SLEEP;
 384              		.loc 1 56 5 is_stmt 1 view .LVU71
  56:Core/Src/pca9685.c ****     mode1 = (old_mode & ~MODE1_RESTART) | MODE1_SLEEP;
 385              		.loc 1 56 13 is_stmt 0 view .LVU72
 386 0078 9DF80E30 		ldrb	r3, [sp, #14]	@ zero_extendqisi2
 387 007c 8DF80D30 		strb	r3, [sp, #13]
  57:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
 388              		.loc 1 57 5 is_stmt 1 view .LVU73
  57:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &mode1, 1) != HAL_OK) {
 389              		.loc 1 57 11 is_stmt 0 view .LVU74
 390 0080 03F06F03 		and	r3, r3, #111
 391 0084 43F01003 		orr	r3, r3, #16
 392 0088 8DF80E30 		strb	r3, [sp, #14]
  58:Core/Src/pca9685.c ****         return false;
 393              		.loc 1 58 5 is_stmt 1 view .LVU75
  58:Core/Src/pca9685.c ****         return false;
 394              		.loc 1 58 9 is_stmt 0 view .LVU76
 395 008c 0123     		movs	r3, #1
 396 008e 0093     		str	r3, [sp]
 397 0090 0DF10E03 		add	r3, sp, #14
 398 0094 0022     		movs	r2, #0
 399 0096 4021     		movs	r1, #64
 400 0098 2048     		ldr	r0, .L35+20
 401 009a FFF7FEFF 		bl	PCA9685_Write
 402              	.LVL31:
  58:Core/Src/pca9685.c ****         return false;
 403              		.loc 1 58 8 view .LVU77
 404 009e 08B1     		cbz	r0, .L32
  59:Core/Src/pca9685.c ****     }
 405              		.loc 1 59 16 view .LVU78
 406 00a0 0020     		movs	r0, #0
 407 00a2 E6E7     		b	.L19
 408              	.L32:
  63:Core/Src/pca9685.c ****         return false;
 409              		.loc 1 63 5 is_stmt 1 view .LVU79
  63:Core/Src/pca9685.c ****         return false;
 410              		.loc 1 63 9 is_stmt 0 view .LVU80
 411 00a4 0123     		movs	r3, #1
 412 00a6 0093     		str	r3, [sp]
 413 00a8 0DF10F03 		add	r3, sp, #15
 414 00ac FE22     		movs	r2, #254
 415 00ae 4021     		movs	r1, #64
 416 00b0 1A48     		ldr	r0, .L35+20
 417 00b2 FFF7FEFF 		bl	PCA9685_Write
 418              	.LVL32:
  63:Core/Src/pca9685.c ****         return false;
 419              		.loc 1 63 8 view .LVU81
 420 00b6 08B1     		cbz	r0, .L33
  64:Core/Src/pca9685.c ****     }
 421              		.loc 1 64 16 view .LVU82
 422 00b8 0020     		movs	r0, #0
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 11


 423 00ba DAE7     		b	.L19
 424              	.L33:
  68:Core/Src/pca9685.c ****         return false;
 425              		.loc 1 68 5 is_stmt 1 view .LVU83
  68:Core/Src/pca9685.c ****         return false;
 426              		.loc 1 68 9 is_stmt 0 view .LVU84
 427 00bc 0123     		movs	r3, #1
 428 00be 0093     		str	r3, [sp]
 429 00c0 0DF10D03 		add	r3, sp, #13
 430 00c4 0022     		movs	r2, #0
 431 00c6 4021     		movs	r1, #64
 432 00c8 1448     		ldr	r0, .L35+20
 433 00ca FFF7FEFF 		bl	PCA9685_Write
 434              	.LVL33:
  68:Core/Src/pca9685.c ****         return false;
 435              		.loc 1 68 8 view .LVU85
 436 00ce 08B1     		cbz	r0, .L34
  69:Core/Src/pca9685.c ****     }
 437              		.loc 1 69 16 view .LVU86
 438 00d0 0020     		movs	r0, #0
 439 00d2 CEE7     		b	.L19
 440              	.L34:
  71:Core/Src/pca9685.c ****     old_mode |= MODE1_RESTART;
 441              		.loc 1 71 5 is_stmt 1 view .LVU87
 442 00d4 0120     		movs	r0, #1
 443 00d6 FFF7FEFF 		bl	HAL_Delay
 444              	.LVL34:
  72:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &old_mode, 1) != HAL_OK) {
 445              		.loc 1 72 5 view .LVU88
  72:Core/Src/pca9685.c ****     if (PCA9685_Write(&hi2c2, PCA9685_I2C_ADDRESS, PCA9685_MODE1, &old_mode, 1) != HAL_OK) {
 446              		.loc 1 72 14 is_stmt 0 view .LVU89
 447 00da 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
 448 00de 63F07F03 		orn	r3, r3, #127
 449 00e2 8DF80D30 		strb	r3, [sp, #13]
  73:Core/Src/pca9685.c ****         return false;
 450              		.loc 1 73 5 is_stmt 1 view .LVU90
  73:Core/Src/pca9685.c ****         return false;
 451              		.loc 1 73 9 is_stmt 0 view .LVU91
 452 00e6 0123     		movs	r3, #1
 453 00e8 0093     		str	r3, [sp]
 454 00ea 0DF10D03 		add	r3, sp, #13
 455 00ee 0022     		movs	r2, #0
 456 00f0 4021     		movs	r1, #64
 457 00f2 0A48     		ldr	r0, .L35+20
 458 00f4 FFF7FEFF 		bl	PCA9685_Write
 459              	.LVL35:
  73:Core/Src/pca9685.c ****         return false;
 460              		.loc 1 73 8 view .LVU92
 461 00f8 08B9     		cbnz	r0, .L25
  77:Core/Src/pca9685.c **** }
 462              		.loc 1 77 12 view .LVU93
 463 00fa 0120     		movs	r0, #1
 464 00fc B9E7     		b	.L19
 465              	.L25:
  74:Core/Src/pca9685.c ****     }
 466              		.loc 1 74 16 view .LVU94
 467 00fe 0020     		movs	r0, #0
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 12


 468 0100 B7E7     		b	.L19
 469              	.L36:
 470 0102 00BFAFF3 		.align	3
 470      0080
 471              	.L35:
 472 0108 00000000 		.word	0
 473 010c 84D77741 		.word	1098372996
 474 0110 0000B040 		.word	1085276160
 475 0114 0000F03F 		.word	1072693248
 476 0118 0000E03F 		.word	1071644672
 477 011c 00000000 		.word	hi2c2
 478              		.cfi_endproc
 479              	.LFE142:
 481              		.section	.text.PCA9685_LED_Status,"ax",%progbits
 482              		.align	1
 483              		.global	PCA9685_LED_Status
 484              		.syntax unified
 485              		.thumb
 486              		.thumb_func
 488              	PCA9685_LED_Status:
 489              	.LVL36:
 490              	.LFB145:
  97:Core/Src/pca9685.c **** 
  98:Core/Src/pca9685.c **** 
  99:Core/Src/pca9685.c **** HAL_StatusTypeDef PCA9685_LED_Status(u_int8_t MemAddress, uint8_t memAddSize){
 491              		.loc 1 99 78 is_stmt 1 view -0
 492              		.cfi_startproc
 493              		@ args = 0, pretend = 0, frame = 16
 494              		@ frame_needed = 0, uses_anonymous_args = 0
 495              		.loc 1 99 78 is_stmt 0 view .LVU96
 496 0000 00B5     		push	{lr}
 497              	.LCFI16:
 498              		.cfi_def_cfa_offset 4
 499              		.cfi_offset 14, -4
 500 0002 89B0     		sub	sp, sp, #36
 501              	.LCFI17:
 502              		.cfi_def_cfa_offset 40
 503 0004 0246     		mov	r2, r0
 504 0006 0B46     		mov	r3, r1
 100:Core/Src/pca9685.c **** 
 101:Core/Src/pca9685.c ****     uint8_t data[4];
 505              		.loc 1 101 5 is_stmt 1 view .LVU97
 102:Core/Src/pca9685.c **** 
 103:Core/Src/pca9685.c ****         volatile int status = HAL_I2C_Mem_Read(&hi2c2, PCA9685_I2C_ADDRESS, MemAddress, memAddSize,
 506              		.loc 1 103 9 view .LVU98
 507              		.loc 1 103 31 is_stmt 0 view .LVU99
 508 0008 4FF0FF31 		mov	r1, #-1
 509              	.LVL37:
 510              		.loc 1 103 31 view .LVU100
 511 000c 0291     		str	r1, [sp, #8]
 512 000e 0421     		movs	r1, #4
 513 0010 0191     		str	r1, [sp, #4]
 514 0012 07A9     		add	r1, sp, #28
 515 0014 0091     		str	r1, [sp]
 516 0016 4021     		movs	r1, #64
 517 0018 0D48     		ldr	r0, .L41
 518              	.LVL38:
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 13


 519              		.loc 1 103 31 view .LVU101
 520 001a FFF7FEFF 		bl	HAL_I2C_Mem_Read
 521              	.LVL39:
 522              		.loc 1 103 22 view .LVU102
 523 001e 0690     		str	r0, [sp, #24]
 104:Core/Src/pca9685.c ****     if (status == HAL_OK){
 524              		.loc 1 104 5 is_stmt 1 view .LVU103
 525              		.loc 1 104 16 is_stmt 0 view .LVU104
 526 0020 069B     		ldr	r3, [sp, #24]
 527              		.loc 1 104 8 view .LVU105
 528 0022 9BB9     		cbnz	r3, .L39
 529              	.LBB2:
 105:Core/Src/pca9685.c **** 
 106:Core/Src/pca9685.c ****         volatile uint16_t on = (uint8_t)data[1] << 8 | data[0]; 
 530              		.loc 1 106 9 is_stmt 1 view .LVU106
 531              		.loc 1 106 45 is_stmt 0 view .LVU107
 532 0024 9DF81D20 		ldrb	r2, [sp, #29]	@ zero_extendqisi2
 533              		.loc 1 106 60 view .LVU108
 534 0028 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 535              		.loc 1 106 54 view .LVU109
 536 002c 43EA0223 		orr	r3, r3, r2, lsl #8
 537              		.loc 1 106 27 view .LVU110
 538 0030 ADF81430 		strh	r3, [sp, #20]	@ movhi
 107:Core/Src/pca9685.c ****         volatile uint16_t off = (uint8_t)data[3] << 8 | data[2]; 
 539              		.loc 1 107 9 is_stmt 1 view .LVU111
 540              		.loc 1 107 46 is_stmt 0 view .LVU112
 541 0034 9DF81F20 		ldrb	r2, [sp, #31]	@ zero_extendqisi2
 542              		.loc 1 107 61 view .LVU113
 543 0038 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 544              		.loc 1 107 55 view .LVU114
 545 003c 43EA0223 		orr	r3, r3, r2, lsl #8
 546              		.loc 1 107 27 view .LVU115
 547 0040 ADF81630 		strh	r3, [sp, #22]	@ movhi
 108:Core/Src/pca9685.c ****         
 109:Core/Src/pca9685.c ****         return HAL_OK;
 548              		.loc 1 109 9 is_stmt 1 view .LVU116
 549              		.loc 1 109 16 is_stmt 0 view .LVU117
 550 0044 0020     		movs	r0, #0
 551              	.L38:
 552              	.LBE2:
 110:Core/Src/pca9685.c ****     } else {
 111:Core/Src/pca9685.c ****         return HAL_ERROR;
 112:Core/Src/pca9685.c ****     }
 113:Core/Src/pca9685.c **** 
 114:Core/Src/pca9685.c **** 
 115:Core/Src/pca9685.c **** }
 553              		.loc 1 115 1 view .LVU118
 554 0046 09B0     		add	sp, sp, #36
 555              	.LCFI18:
 556              		.cfi_remember_state
 557              		.cfi_def_cfa_offset 4
 558              		@ sp needed
 559 0048 5DF804FB 		ldr	pc, [sp], #4
 560              	.L39:
 561              	.LCFI19:
 562              		.cfi_restore_state
 111:Core/Src/pca9685.c ****     }
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 14


 563              		.loc 1 111 16 view .LVU119
 564 004c 0120     		movs	r0, #1
 565 004e FAE7     		b	.L38
 566              	.L42:
 567              		.align	2
 568              	.L41:
 569 0050 00000000 		.word	hi2c2
 570              		.cfi_endproc
 571              	.LFE145:
 573              		.section	.text.setPWM,"ax",%progbits
 574              		.align	1
 575              		.global	setPWM
 576              		.syntax unified
 577              		.thumb
 578              		.thumb_func
 580              	setPWM:
 581              	.LVL40:
 582              	.LFB146:
 116:Core/Src/pca9685.c **** 
 117:Core/Src/pca9685.c **** HAL_StatusTypeDef setPWM(uint8_t num, uint16_t on, uint16_t off) {
 583              		.loc 1 117 66 is_stmt 1 view -0
 584              		.cfi_startproc
 585              		@ args = 0, pretend = 0, frame = 16
 586              		@ frame_needed = 0, uses_anonymous_args = 0
 587              		.loc 1 117 66 is_stmt 0 view .LVU121
 588 0000 00B5     		push	{lr}
 589              	.LCFI20:
 590              		.cfi_def_cfa_offset 4
 591              		.cfi_offset 14, -4
 592 0002 87B0     		sub	sp, sp, #28
 593              	.LCFI21:
 594              		.cfi_def_cfa_offset 32
 118:Core/Src/pca9685.c ****     uint8_t buffer[5];
 595              		.loc 1 118 5 is_stmt 1 view .LVU122
 119:Core/Src/pca9685.c ****     
 120:Core/Src/pca9685.c ****     // Set the register address for the correct LED (0-15)
 121:Core/Src/pca9685.c ****     buffer[0] = PCA9685_LED0_ON_L + 4 * num;
 596              		.loc 1 121 5 view .LVU123
 597              		.loc 1 121 35 is_stmt 0 view .LVU124
 598 0004 8000     		lsls	r0, r0, #2
 599              	.LVL41:
 600              		.loc 1 121 35 view .LVU125
 601 0006 0630     		adds	r0, r0, #6
 602              		.loc 1 121 15 view .LVU126
 603 0008 8DF81000 		strb	r0, [sp, #16]
 122:Core/Src/pca9685.c ****     
 123:Core/Src/pca9685.c ****    //Buffer Data
 124:Core/Src/pca9685.c ****     buffer[1] = (uint8_t)(on & 0xFF);       
 604              		.loc 1 124 5 is_stmt 1 view .LVU127
 605              		.loc 1 124 15 is_stmt 0 view .LVU128
 606 000c 8DF81110 		strb	r1, [sp, #17]
 125:Core/Src/pca9685.c ****     buffer[2] = (uint8_t)((on >> 8) & 0xFF); 
 607              		.loc 1 125 5 is_stmt 1 view .LVU129
 608              		.loc 1 125 17 is_stmt 0 view .LVU130
 609 0010 090A     		lsrs	r1, r1, #8
 610              	.LVL42:
 611              		.loc 1 125 15 view .LVU131
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 15


 612 0012 8DF81210 		strb	r1, [sp, #18]
 126:Core/Src/pca9685.c ****     buffer[3] = (uint8_t)(off & 0xFF);       
 613              		.loc 1 126 5 is_stmt 1 view .LVU132
 614              		.loc 1 126 15 is_stmt 0 view .LVU133
 615 0016 8DF81320 		strb	r2, [sp, #19]
 127:Core/Src/pca9685.c ****     buffer[4] = (uint8_t)((off >> 8) & 0xFF); 
 616              		.loc 1 127 5 is_stmt 1 view .LVU134
 617              		.loc 1 127 17 is_stmt 0 view .LVU135
 618 001a 120A     		lsrs	r2, r2, #8
 619              	.LVL43:
 620              		.loc 1 127 15 view .LVU136
 621 001c 8DF81420 		strb	r2, [sp, #20]
 128:Core/Src/pca9685.c **** 
 129:Core/Src/pca9685.c ****     //Send Buffer
 130:Core/Src/pca9685.c ****        volatile int err = HAL_I2C_Master_Transmit(&hi2c2, PCA9685_I2C_ADDRESS << 1, buffer, 5, HAL_
 622              		.loc 1 130 8 is_stmt 1 view .LVU137
 623              		.loc 1 130 27 is_stmt 0 view .LVU138
 624 0020 4FF0FF33 		mov	r3, #-1
 625 0024 0093     		str	r3, [sp]
 626 0026 0523     		movs	r3, #5
 627 0028 04AA     		add	r2, sp, #16
 628 002a 8021     		movs	r1, #128
 629 002c 0548     		ldr	r0, .L47
 630 002e FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 631              	.LVL44:
 632              		.loc 1 130 21 view .LVU139
 633 0032 0390     		str	r0, [sp, #12]
 131:Core/Src/pca9685.c ****     if (err == HAL_OK) {
 634              		.loc 1 131 5 is_stmt 1 view .LVU140
 635              		.loc 1 131 13 is_stmt 0 view .LVU141
 636 0034 039B     		ldr	r3, [sp, #12]
 637              		.loc 1 131 8 view .LVU142
 638 0036 1BB9     		cbnz	r3, .L45
 132:Core/Src/pca9685.c ****         return HAL_OK;  
 639              		.loc 1 132 16 view .LVU143
 640 0038 0020     		movs	r0, #0
 641              	.L44:
 133:Core/Src/pca9685.c ****     } else {
 134:Core/Src/pca9685.c ****         // set a breakpoint below and look at err's value and match it against the I2C-specific err
 135:Core/Src/pca9685.c ****         return HAL_ERROR;  
 136:Core/Src/pca9685.c ****     }
 137:Core/Src/pca9685.c **** 
 138:Core/Src/pca9685.c **** }
 642              		.loc 1 138 1 view .LVU144
 643 003a 07B0     		add	sp, sp, #28
 644              	.LCFI22:
 645              		.cfi_remember_state
 646              		.cfi_def_cfa_offset 4
 647              		@ sp needed
 648 003c 5DF804FB 		ldr	pc, [sp], #4
 649              	.L45:
 650              	.LCFI23:
 651              		.cfi_restore_state
 135:Core/Src/pca9685.c ****     }
 652              		.loc 1 135 16 view .LVU145
 653 0040 0120     		movs	r0, #1
 654 0042 FAE7     		b	.L44
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 16


 655              	.L48:
 656              		.align	2
 657              	.L47:
 658 0044 00000000 		.word	hi2c2
 659              		.cfi_endproc
 660              	.LFE146:
 662              		.text
 663              	.Letext0:
 664              		.file 2 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/../
 665              		.file 3 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/../
 666              		.file 4 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f723xx.h"
 667              		.file 5 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/inc
 668              		.file 6 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 669              		.file 7 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 670              		.file 8 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_i2c.h"
 671              		.file 9 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/../
 672              		.file 10 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/..
 673              		.file 11 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/..
 674              		.file 12 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 675              		.file 13 "<built-in>"
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s 			page 17


DEFINED SYMBOLS
                            *ABS*:00000000 pca9685.c
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:21     .text.PCA9685_Write:00000000 $t
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:27     .text.PCA9685_Write:00000000 PCA9685_Write
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:100    .text.PCA9685_Init:00000000 $t
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:106    .text.PCA9685_Init:00000000 PCA9685_Init
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:193    .text.PCA9685_Init:00000064 $d
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:198    .text.PCA9685_Read:00000000 $t
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:204    .text.PCA9685_Read:00000000 PCA9685_Read
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:280    .text.PCA9685_SetPWMFrequency:00000000 $t
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:286    .text.PCA9685_SetPWMFrequency:00000000 PCA9685_SetPWMFrequency
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:472    .text.PCA9685_SetPWMFrequency:00000108 $d
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:482    .text.PCA9685_LED_Status:00000000 $t
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:488    .text.PCA9685_LED_Status:00000000 PCA9685_LED_Status
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:569    .text.PCA9685_LED_Status:00000050 $d
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:574    .text.setPWM:00000000 $t
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:580    .text.setPWM:00000000 setPWM
C:\Users\benny\AppData\Local\Temp\ccYhFPKz.s:658    .text.setPWM:00000044 $d

UNDEFINED SYMBOLS
memcpy
HAL_I2C_Master_Transmit
hi2c2
HAL_I2C_Master_Receive
__aeabi_i2d
__aeabi_dmul
__aeabi_ddiv
__aeabi_dsub
__aeabi_d2f
__aeabi_f2d
__aeabi_dadd
__aeabi_d2uiz
floor
HAL_Delay
HAL_I2C_Mem_Read
