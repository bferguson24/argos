ARM GAS  C:\Users\benny\AppData\Local\Temp\ccAXH5CP.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"input_functions.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/input_functions.c"
  20              		.section	.text.analogClipSet,"ax",%progbits
  21              		.align	1
  22              		.global	analogClipSet
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	analogClipSet:
  28              	.LVL0:
  29              	.LFB0:
   1:Core/Src/input_functions.c **** #include "input_functions.h"
   2:Core/Src/input_functions.c **** #include <stdint.h>
   3:Core/Src/input_functions.c **** 
   4:Core/Src/input_functions.c **** 
   5:Core/Src/input_functions.c **** 
   6:Core/Src/input_functions.c **** void analogClipSet(uint16_t *raw_adc_array, float *clipped_adc_array, uint16_t deadzone, int array_
  30              		.loc 1 6 117 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 6 117 is_stmt 0 view .LVU1
  35 0000 30B5     		push	{r4, r5, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 12
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
   7:Core/Src/input_functions.c **** 
   8:Core/Src/input_functions.c **** //Clipping Parameters
   9:Core/Src/input_functions.c **** 
  10:Core/Src/input_functions.c **** uint16_t maxAnalog = 4095;
  41              		.loc 1 10 1 is_stmt 1 view .LVU2
  42              	.LVL1:
  11:Core/Src/input_functions.c **** uint16_t minAnalog = 0;
  43              		.loc 1 11 1 view .LVU3
  12:Core/Src/input_functions.c **** uint16_t meanAnalog = (maxAnalog + minAnalog)/2;
  44              		.loc 1 12 1 view .LVU4
  13:Core/Src/input_functions.c **** 
  14:Core/Src/input_functions.c **** uint16_t upper_lim = meanAnalog + deadzone/2;
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccAXH5CP.s 			page 2


  45              		.loc 1 14 1 view .LVU5
  46              		.loc 1 14 33 is_stmt 0 view .LVU6
  47 0002 5208     		lsrs	r2, r2, #1
  48              	.LVL2:
  49              		.loc 1 14 10 view .LVU7
  50 0004 02F2FF74 		addw	r4, r2, #2047
  51              	.LVL3:
  15:Core/Src/input_functions.c **** uint16_t lower_lim = meanAnalog - (deadzone/2);
  52              		.loc 1 15 1 is_stmt 1 view .LVU8
  53              		.loc 1 15 10 is_stmt 0 view .LVU9
  54 0008 40F2FF75 		movw	r5, #2047
  55 000c AD1A     		subs	r5, r5, r2
  56 000e ADB2     		uxth	r5, r5
  57              	.LVL4:
  16:Core/Src/input_functions.c **** 
  17:Core/Src/input_functions.c **** for (int i = 0; i< array_size ; i++){
  58              		.loc 1 17 1 is_stmt 1 view .LVU10
  59              	.LBB2:
  60              		.loc 1 17 6 view .LVU11
  61              		.loc 1 17 10 is_stmt 0 view .LVU12
  62 0010 4FF0000C 		mov	ip, #0
  63              		.loc 1 17 1 view .LVU13
  64 0014 13E0     		b	.L2
  65              	.LVL5:
  66              	.L3:
  18:Core/Src/input_functions.c ****     //Delta = 0; 
  19:Core/Src/input_functions.c ****         if (((raw_adc_array[i]) <= upper_lim) && (raw_adc_array[i] >= lower_lim)){
  20:Core/Src/input_functions.c ****             clipped_adc_array[i] = 0;
  21:Core/Src/input_functions.c **** 
  22:Core/Src/input_functions.c ****         //Delta Positive    
  23:Core/Src/input_functions.c ****         } else if(raw_adc_array[i] > upper_lim){
  67              		.loc 1 23 16 is_stmt 1 view .LVU14
  68              		.loc 1 23 18 is_stmt 0 view .LVU15
  69 0016 A242     		cmp	r2, r4
  70 0018 20D9     		bls	.L5
  24:Core/Src/input_functions.c ****             clipped_adc_array[i] = gain * (raw_adc_array[i] - meanAnalog) / (maxAnalog - meanAnalog
  71              		.loc 1 24 13 is_stmt 1 view .LVU16
  72              		.loc 1 24 61 is_stmt 0 view .LVU17
  73 001a A2F2FF72 		subw	r2, r2, #2047
  74 001e 07EE902A 		vmov	s15, r2	@ int
  75              		.loc 1 24 41 view .LVU18
  76 0022 F8EEE77A 		vcvt.f32.s32	s15, s15
  77 0026 67EE807A 		vmul.f32	s15, s15, s0
  78              		.loc 1 24 30 view .LVU19
  79 002a 01EB8E0E 		add	lr, r1, lr, lsl #2
  80              		.loc 1 24 75 view .LVU20
  81 002e 9FED157A 		vldr.32	s14, .L9
  82 0032 67EE877A 		vmul.f32	s15, s15, s14
  83              		.loc 1 24 34 view .LVU21
  84 0036 CEED007A 		vstr.32	s15, [lr]
  85              	.L4:
  17:Core/Src/input_functions.c ****     //Delta = 0; 
  86              		.loc 1 17 34 is_stmt 1 discriminator 2 view .LVU22
  87 003a 0CF1010C 		add	ip, ip, #1
  88              	.LVL6:
  89              	.L2:
  17:Core/Src/input_functions.c ****     //Delta = 0; 
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccAXH5CP.s 			page 3


  90              		.loc 1 17 18 discriminator 1 view .LVU23
  91 003e 9C45     		cmp	ip, r3
  92 0040 1FDA     		bge	.L8
  19:Core/Src/input_functions.c ****             clipped_adc_array[i] = 0;
  93              		.loc 1 19 9 view .LVU24
  19:Core/Src/input_functions.c ****             clipped_adc_array[i] = 0;
  94              		.loc 1 19 28 is_stmt 0 view .LVU25
  95 0042 E646     		mov	lr, ip
  96 0044 30F81C20 		ldrh	r2, [r0, ip, lsl #1]
  19:Core/Src/input_functions.c ****             clipped_adc_array[i] = 0;
  97              		.loc 1 19 12 view .LVU26
  98 0048 A242     		cmp	r2, r4
  99 004a E4D8     		bhi	.L3
  19:Core/Src/input_functions.c ****             clipped_adc_array[i] = 0;
 100              		.loc 1 19 47 discriminator 1 view .LVU27
 101 004c AA42     		cmp	r2, r5
 102 004e E2D3     		bcc	.L3
  20:Core/Src/input_functions.c **** 
 103              		.loc 1 20 13 is_stmt 1 view .LVU28
  20:Core/Src/input_functions.c **** 
 104              		.loc 1 20 30 is_stmt 0 view .LVU29
 105 0050 01EB8C0E 		add	lr, r1, ip, lsl #2
  20:Core/Src/input_functions.c **** 
 106              		.loc 1 20 34 view .LVU30
 107 0054 0022     		movs	r2, #0
 108 0056 CEF80020 		str	r2, [lr]	@ float
 109 005a EEE7     		b	.L4
 110              	.L5:
  25:Core/Src/input_functions.c **** 
  26:Core/Src/input_functions.c ****         //Delta Negative
  27:Core/Src/input_functions.c ****         } else if(raw_adc_array[i] < lower_lim){
 111              		.loc 1 27 16 is_stmt 1 view .LVU31
 112              		.loc 1 27 18 is_stmt 0 view .LVU32
 113 005c AA42     		cmp	r2, r5
 114 005e ECD2     		bcs	.L4
  28:Core/Src/input_functions.c ****             clipped_adc_array[i] = - gain * (raw_adc_array[i] - meanAnalog) / (minAnalog - meanAnal
 115              		.loc 1 28 13 is_stmt 1 view .LVU33
 116              		.loc 1 28 63 is_stmt 0 view .LVU34
 117 0060 A2F2FF72 		subw	r2, r2, #2047
 118 0064 07EE902A 		vmov	s15, r2	@ int
 119              		.loc 1 28 43 view .LVU35
 120 0068 F8EEE77A 		vcvt.f32.s32	s15, s15
 121 006c 60EE677A 		vnmul.f32	s15, s0, s15
 122              		.loc 1 28 30 view .LVU36
 123 0070 01EB8E0E 		add	lr, r1, lr, lsl #2
 124              		.loc 1 28 77 view .LVU37
 125 0074 DFED046A 		vldr.32	s13, .L9+4
 126 0078 87EEA67A 		vdiv.f32	s14, s15, s13
 127              		.loc 1 28 34 view .LVU38
 128 007c 8EED007A 		vstr.32	s14, [lr]
 129 0080 DBE7     		b	.L4
 130              	.L8:
 131              		.loc 1 28 34 view .LVU39
 132              	.LBE2:
  29:Core/Src/input_functions.c ****         }
  30:Core/Src/input_functions.c ****     }
  31:Core/Src/input_functions.c **** }   
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccAXH5CP.s 			page 4


 133              		.loc 1 31 1 view .LVU40
 134 0082 30BD     		pop	{r4, r5, pc}
 135              	.LVL7:
 136              	.L10:
 137              		.loc 1 31 1 view .LVU41
 138              		.align	2
 139              	.L9:
 140 0084 0000003A 		.word	973078528
 141 0088 00E0FFC4 		.word	-989863936
 142              		.cfi_endproc
 143              	.LFE0:
 145              		.text
 146              	.Letext0:
 147              		.file 2 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/../
 148              		.file 3 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/12.3.1/../
ARM GAS  C:\Users\benny\AppData\Local\Temp\ccAXH5CP.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 input_functions.c
C:\Users\benny\AppData\Local\Temp\ccAXH5CP.s:21     .text.analogClipSet:00000000 $t
C:\Users\benny\AppData\Local\Temp\ccAXH5CP.s:27     .text.analogClipSet:00000000 analogClipSet
C:\Users\benny\AppData\Local\Temp\ccAXH5CP.s:140    .text.analogClipSet:00000084 $d

NO UNDEFINED SYMBOLS
